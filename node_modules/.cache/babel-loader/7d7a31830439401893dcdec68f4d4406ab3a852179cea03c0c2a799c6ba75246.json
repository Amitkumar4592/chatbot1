{"ast":null,"code":"import _objectSpread from\"C:/Users/amitk/Desktop/intern submmisions/pod-tshirt/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from\"react\";import{useForm}from\"react-hook-form\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const buildOptions=[\"lean\",\"reg\",\"athletic\",\"big\"];function CustomizationForm(_ref){let{formRef,setUploadedImg,tshirtText,setTshirtText}=_ref;const{register,setValue,watch}=useForm({defaultValues:{height:180,weight:80,build:\"athletic\",text1:tshirtText[0],text2:tshirtText[1],text3:tshirtText[2]}});// Watch form values\nconst height=watch(\"height\");const weight=watch(\"weight\");const build=watch(\"build\");// Handle image upload\nconst handleImage=e=>{var _e$target$files,_e$dataTransfer,_e$dataTransfer$files;const file=((_e$target$files=e.target.files)===null||_e$target$files===void 0?void 0:_e$target$files[0])||((_e$dataTransfer=e.dataTransfer)===null||_e$dataTransfer===void 0?void 0:(_e$dataTransfer$files=_e$dataTransfer.files)===null||_e$dataTransfer$files===void 0?void 0:_e$dataTransfer$files[0]);if(file&&file.type.startsWith(\"image/\")){const reader=new FileReader();reader.onload=ev=>setUploadedImg(ev.target.result);reader.readAsDataURL(file);}};// Handle drag & drop\nconst handleDrop=e=>{e.preventDefault();handleImage(e);};// Handle text change\nconst handleTextChange=(idx,val)=>{const newText=[...tshirtText];newText[idx]=val.slice(0,32);// Limit line length\nsetTshirtText(newText);};// Default image for preview if none uploaded\nconst previewImg=tshirtText.previewImg||null;const defaultImg=\"https://images.unsplash.com/photo-1512436991641-6745cdb1723f?w=500\";return/*#__PURE__*/_jsxs(\"form\",{className:\"customization-form\",ref:formRef,children:[/*#__PURE__*/_jsx(\"div\",{className:\"customization-form-title\",children:\"Customize Your T-shirt\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"toggle-tip\",children:[\"Press \",/*#__PURE__*/_jsx(\"b\",{children:\"Alt + Q\"}),\" to toggle 3D preview\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group scroll-box\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Height\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"number\",min:\"140\",max:\"220\",step:\"1\",defaultValue:180},register(\"height\"))),/*#__PURE__*/_jsx(\"label\",{children:\"cm\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group scroll-box\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Weight\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"number\",min:\"40\",max:\"160\",step:\"1\",defaultValue:80},register(\"weight\"))),/*#__PURE__*/_jsx(\"label\",{children:\"kg\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group scroll-box\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Build\"}),/*#__PURE__*/_jsx(\"select\",_objectSpread(_objectSpread({},register(\"build\")),{},{defaultValue:\"athletic\",children:buildOptions.map(b=>/*#__PURE__*/_jsx(\"option\",{value:b,children:b},b))}))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"image-upload-box\",onDrop:handleDrop,onDragOver:e=>e.preventDefault(),children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",id:\"upload-input\",style:{display:\"none\"},onChange:handleImage}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"upload-input\",className:\"upload-label\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"upload-img-preview\",children:setUploadedImg&&/*#__PURE__*/// Show preview image if uploaded\n_jsx(\"img\",{src:typeof setUploadedImg==='string'?setUploadedImg:defaultImg,alt:\"preview\",style:{width:48,height:48,objectFit:'cover',borderRadius:8}})}),/*#__PURE__*/_jsx(\"span\",{children:\"Select File or Drop Here\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"upload-note\",children:\"10 MB maximum\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-area-box\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Text to print (max 3 lines)\"}),[0,1,2].map(i=>/*#__PURE__*/_jsxs(\"div\",{className:\"text-input-row\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-input-label\",children:[\"Line \",i+1]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",maxLength:32,value:tshirtText[i],onChange:e=>handleTextChange(i,e.target.value),placeholder:\"Max 32 chars\",className:\"tshirt-text-input\"}),/*#__PURE__*/_jsxs(\"span\",{style:{color:'#7ee787',fontSize:'0.9rem',marginLeft:4},children:[tshirtText[i].length,\"/32\"]})]},i))]})]});}export default CustomizationForm;","map":{"version":3,"names":["React","useForm","jsx","_jsx","jsxs","_jsxs","buildOptions","CustomizationForm","_ref","formRef","setUploadedImg","tshirtText","setTshirtText","register","setValue","watch","defaultValues","height","weight","build","text1","text2","text3","handleImage","e","_e$target$files","_e$dataTransfer","_e$dataTransfer$files","file","target","files","dataTransfer","type","startsWith","reader","FileReader","onload","ev","result","readAsDataURL","handleDrop","preventDefault","handleTextChange","idx","val","newText","slice","previewImg","defaultImg","className","ref","children","_objectSpread","min","max","step","defaultValue","map","b","value","onDrop","onDragOver","accept","id","style","display","onChange","htmlFor","src","alt","width","objectFit","borderRadius","i","maxLength","placeholder","color","fontSize","marginLeft","length"],"sources":["C:/Users/amitk/Desktop/intern submmisions/pod-tshirt/src/CustomizationForm.js"],"sourcesContent":["import React from \"react\";\nimport { useForm } from \"react-hook-form\";\n\nconst buildOptions = [\"lean\", \"reg\", \"athletic\", \"big\"];\n\nfunction CustomizationForm({ formRef, setUploadedImg, tshirtText, setTshirtText }) {\n  const { register, setValue, watch } = useForm({\n    defaultValues: {\n      height: 180,\n      weight: 80,\n      build: \"athletic\",\n      text1: tshirtText[0],\n      text2: tshirtText[1],\n      text3: tshirtText[2],\n    },\n  });\n\n  // Watch form values\n  const height = watch(\"height\");\n  const weight = watch(\"weight\");\n  const build = watch(\"build\");\n\n  // Handle image upload\n  const handleImage = (e) => {\n    const file = e.target.files?.[0] || e.dataTransfer?.files?.[0];\n    if (file && file.type.startsWith(\"image/\")) {\n      const reader = new FileReader();\n      reader.onload = (ev) => setUploadedImg(ev.target.result);\n      reader.readAsDataURL(file);\n    }\n  };\n\n  // Handle drag & drop\n  const handleDrop = (e) => {\n    e.preventDefault();\n    handleImage(e);\n  };\n\n  // Handle text change\n  const handleTextChange = (idx, val) => {\n    const newText = [...tshirtText];\n    newText[idx] = val.slice(0, 32); // Limit line length\n    setTshirtText(newText);\n  };\n\n  // Default image for preview if none uploaded\n  const previewImg = tshirtText.previewImg || null;\n  const defaultImg = \"https://images.unsplash.com/photo-1512436991641-6745cdb1723f?w=500\";\n\n  return (\n    <form className=\"customization-form\" ref={formRef}>\n      <div className=\"customization-form-title\">Customize Your T-shirt</div>\n      <div className=\"toggle-tip\">Press <b>Alt + Q</b> to toggle 3D preview</div>\n      <div className=\"input-group scroll-box\">\n        <label>Height</label>\n        <input type=\"number\" min=\"140\" max=\"220\" step=\"1\" defaultValue={180}\n          {...register(\"height\")}\n        />\n        <label>cm</label>\n      </div>\n      <div className=\"input-group scroll-box\">\n        <label>Weight</label>\n        <input type=\"number\" min=\"40\" max=\"160\" step=\"1\" defaultValue={80}\n          {...register(\"weight\")}\n        />\n        <label>kg</label>\n      </div>\n      <div className=\"input-group scroll-box\">\n        <label>Build</label>\n        <select {...register(\"build\")} defaultValue=\"athletic\">\n          {buildOptions.map((b) => (\n            <option value={b} key={b}>{b}</option>\n          ))}\n        </select>\n      </div>\n      <div className=\"image-upload-box\"\n        onDrop={handleDrop}\n        onDragOver={(e) => e.preventDefault()}\n      >\n        <input\n          type=\"file\"\n          accept=\"image/*\"\n          id=\"upload-input\"\n          style={{ display: \"none\" }}\n          onChange={handleImage}\n        />\n        <label htmlFor=\"upload-input\" className=\"upload-label\">\n          <div className=\"upload-img-preview\">\n            {setUploadedImg && ( // Show preview image if uploaded\n              <img\n                src={typeof setUploadedImg === 'string' ? setUploadedImg : defaultImg}\n                alt=\"preview\"\n                style={{ width: 48, height: 48, objectFit: 'cover', borderRadius: 8 }}\n              />\n            )}\n          </div>\n          <span>Select File or Drop Here</span>\n        </label>\n        <div className=\"upload-note\">10 MB maximum</div>\n      </div>\n      <div className=\"text-area-box\">\n        <label>Text to print (max 3 lines)</label>\n        {[0, 1, 2].map((i) => (\n          <div className=\"text-input-row\" key={i}>\n            <span className=\"text-input-label\">Line {i + 1}</span>\n            <input\n              type=\"text\"\n              maxLength={32}\n              value={tshirtText[i]}\n              onChange={(e) => handleTextChange(i, e.target.value)}\n              placeholder={`Max 32 chars`}\n              className=\"tshirt-text-input\"\n            />\n            <span style={{ color: '#7ee787', fontSize: '0.9rem', marginLeft: 4 }}>{tshirtText[i].length}/32</span>\n          </div>\n        ))}\n      </div>\n    </form>\n  );\n}\n\nexport default CustomizationForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}